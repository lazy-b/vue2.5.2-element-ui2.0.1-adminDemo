webpackJsonp([9],{"41Xs":function(n,e){},"6uUG":function(n,e,t){"use strict";var a,r=t("a3Yh"),o=t.n(r),u=t("Du/2"),i={viewTabs:[]},s=(a={},o()(a,u.b,function(n,e){n.viewTabs.push(e)}),o()(a,u.a,function(n,e){var t=n.viewTabs.indexOf(e);n.viewTabs.splice(t,1)}),a),c={addTab:function(n,e){var t=n.commit,a={name:e.name,path:e.path,label:e.meta.menuName};i.viewTabs.some(function(n){return n.name===e.name})||t(u.b,a)},deleteTab:function(n,e){(0,n.commit)(u.a,e)}};e.a={state:i,actions:c,mutations:s}},"7ipI":function(n,e,t){"use strict";var a=t("a3Yh"),r=t.n(a),o=t("Du/2"),u={isCollapse:!1},i=r()({},o.d,function(n){n.isCollapse=!n.isCollapse}),s={setIsCollapse:function(n){(0,n.commit)(o.d)}};e.a={state:u,actions:s,mutations:i}},"8LVD":function(n,e,t){"use strict";function a(n,e){return!(e.meta&&e.meta.role&&e.meta.role.length>0)||n.some(function(n){return e.meta.role.indexOf(n)>=0})}function r(n,e){return n.filter(function(n){return!!a(e,n)&&(n.children&&n.children.length&&(n.children=r(n.children,e)),!0)})}var o=t("rVsN"),u=t.n(o),i=t("a3Yh"),s=t.n(i),c=t("Du/2"),d=t("KWv7"),m={state:{routes:d.b,asynchronousRoutes:[]},mutations:s()({},c.f,function(n,e){n.asynchronousRoutes=e,n.routes=d.b.concat(e)}),actions:{GenerateRoutes:function(n,e){var t=n.commit;return new u.a(function(n){var a=e.roles,o=[];o=a.indexOf("admin")>=0?d.a:r(d.a,a),t(c.f,o),n()})}}};e.a=m},"BXx+":function(n,e,t){"use strict";var a=t("rVsN"),r=t.n(a),o=t("yEoQ"),u=t.n(o),i=t("IcnI"),s=t("LXD1");u.a.interceptors.request.use(function(n){return i.a.getters.token&&(n.headers["X-Token"]=Object(s.a)()),n},function(n){return r.a.reject(n)}),u.a.interceptors.response.use(function(n){return n},function(n){return r.a.reject(n)})},CeRI:function(n,e,t){"use strict";var a=t("4YfN"),r=t.n(a),o=t("YaEn"),u=t("IcnI"),i=t("E4C3"),s=t.n(i),c=t("ve9D"),d=(t.n(c),t("LXD1")),m=t("0SyO"),f=(t.n(m),["login"]);o.a.beforeEach(function(n,e,t){s.a.start(),Object(d.a)()&&"undefined"!==Object(d.a)()?u.a.getters.roles&&0!==u.a.getters.roles.length?"login"===n.name?t({name:"welcome"}):t():u.a.dispatch("GetInfo").then(function(e){var a=e.data.user.roles;u.a.dispatch("GenerateRoutes",{roles:a}).then(function(){o.a.addRoutes(u.a.getters.asynchronousRoutes),t("login"===n.name?{name:"welcome"}:r()({},n))},function(n){t({name:"404"})})},function(n){Object(m.Message)({type:"error",message:"获取用户信息失败，请重新登录..."}),u.a.dispatch("FedLogOut").then(function(){"login"===e.name?(t(!1),s.a.done()):t({name:"login"})})}):-1!==f.indexOf(n.name)?t():t({name:"login"})}),o.a.afterEach(function(){s.a.done()},function(n){s.a.done()})},Czyj:function(n,e,t){"use strict";e.a={name:"app"}},"Du/2":function(n,e,t){"use strict";t.d(e,"g",function(){return a}),t.d(e,"h",function(){return r}),t.d(e,"c",function(){return o}),t.d(e,"e",function(){return u}),t.d(e,"f",function(){return i}),t.d(e,"d",function(){return s}),t.d(e,"b",function(){return c}),t.d(e,"a",function(){return d});var a="SET_TOKEN",r="SET_USERNAME",o="SET_AVATAR",u="SET_ROLES",i="SET_ROUTERS",s="SET_ISCOLLAPSE",c="PUSH_TAB",d="DELETE_TAB"},GLVK:function(n,e,t){"use strict";t.d(e,"c",function(){return a}),t.d(e,"d",function(){return r}),t.d(e,"b",function(){return o}),t.d(e,"h",function(){return u}),t.d(e,"e",function(){return i}),t.d(e,"a",function(){return s}),t.d(e,"g",function(){return c}),t.d(e,"f",function(){return d});var a=function(){return t.e(4).then(t.bind(null,"xJsL"))},r=function(){return t.e(6).then(t.bind(null,"YcJa"))},o=function(){return t.e(0).then(t.bind(null,"lO7g"))},u=function(){return t.e(7).then(t.bind(null,"QG3r"))},i=function(){return t.e(1).then(t.bind(null,"o50x"))},s=function(){return t.e(2).then(t.bind(null,"DLJK"))},c=function(){return t.e(3).then(t.bind(null,"KEMQ"))},d=function(){return t.e(5).then(t.bind(null,"ZTwq"))}},IcnI:function(n,e,t){"use strict";var a=t("5vqR"),r=t("9rMa"),o=t("UjVw"),u=t("bREw"),i=t("8LVD"),s=t("7ipI"),c=t("6uUG");a.default.use(r.a);var d=new r.a.Store({state:{},getters:o.a,modules:{user:u.a,permissionRouter:i.a,aside:s.a,tabs:c.a},strict:!1});e.a=d},KWv7:function(n,e,t){"use strict";t.d(e,"b",function(){return r}),t.d(e,"a",function(){return o});var a=t("GLVK"),r=[{path:"/login",name:"login",component:a.c},{path:"/NotFound",alias:"/404",name:"404",component:a.d}],o=[{path:"/",name:"home",component:a.b,redirect:"/welcome",children:[{path:"/welcome",name:"welcome",component:a.h,meta:{role:[],isMenu:!0,icon:"el-icon-bell",menuName:"欢迎"}},{path:"/table",name:"table",component:a.e,meta:{role:["tableEditer"],isMenu:!0,icon:"el-icon-document",menuName:"表格管理"},children:[{path:"/table/orderInfo",name:"orderInfo",component:a.e,meta:{role:["tableEditer"],isMenu:!0,icon:"el-icon-document",menuName:"订单信息管理"}},{path:"/table/orderSchedule",name:"orderSchedule",component:a.e,meta:{role:["tableEditer"],isMenu:!0,icon:"el-icon-document",menuName:"生产进度管理"}}]},{path:"/excelUpload",name:"excelUpload",component:a.a,meta:{role:["excelEditer"],isMenu:!0,icon:"el-icon-upload",menuName:"EXCEL文件上传"}},{path:"/userInfo",name:"userInfo",component:a.g,meta:{role:[],isMenu:!0,icon:"el-icon-info",menuName:"个人信息管理"}},{path:"/testView",name:"testView",component:a.f,meta:{role:["visitor"],isMenu:!0,icon:"el-icon-document",menuName:"测试页面"}}]},{path:"*",redirect:"/"}]},LXD1:function(n,e,t){"use strict";function a(){return i.a.get(s)}function r(n){return i.a.set(s,n)}function o(){return i.a.remove(s)}e.a=a,e.c=r,e.b=o;var u=t("uAC3"),i=t.n(u),s="TOKENTEST"},M93x:function(n,e,t){"use strict";function a(n){t("41Xs")}var r=t("Czyj"),o=t("ZWE6"),u=t("0HdQ"),i=a,s=u(r.a,o.a,!1,i,null,null);e.a=s.exports},MdvO:function(n,e){},NHnr:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("5vqR"),r=t("YaEn"),o=t("0SyO"),u=t.n(o),i=t("dHzK"),s=(t.n(i),t("M93x")),c=t("IcnI"),d=(t("CeRI"),t("MdvO")),m=(t.n(d),t("BXx+"),t("kF1/"));a.default.use(u.a),a.default.config.productionTip=!1,m.a.start();new a.default({el:"#app",router:r.a,store:c.a,template:"<App/>",components:{App:s.a}})},UjVw:function(n,e,t){"use strict";var a=t("IHPB"),r=t.n(a),o=t("4YfN"),u=t.n(o),i=t("LXD1"),s={token:function(n){return n.user.token||Object(i.a)()},avatar:function(n){return n.user.avatar},userName:function(n){return n.user.userName},roles:function(n){return n.user.roles},permissionRoutes:function(n){return n.permissionRouter.routes},menuRoutes:function(n){return function n(e){for(var t=e.length,a={},o=[],i=0;i<t;i++)a=u()({},e[i]),a.children&&a.meta&&a.meta.isMenu?(a.children=n(a.children),o.push(a)):a.meta&&a.meta.isMenu?o.push(a):a.children&&o.push.apply(o,r()(n(a.children)));return o}(n.permissionRouter.routes)},asynchronousRoutes:function(n){return n.permissionRouter.asynchronousRoutes},isCollapse:function(n){return n.aside.isCollapse},viewTabs:function(n){return n.tabs.viewTabs}};e.a=s},YaEn:function(n,e,t){"use strict";var a=t("5vqR"),r=t("zO6J"),o=t("KWv7");a.default.use(r.a);var u=new r.a({routes:o.b});e.a=u},ZWE6:function(n,e,t){"use strict";var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",[t("router-view")],1)],1)},r=[],o={render:a,staticRenderFns:r};e.a=o},bREw:function(n,e,t){"use strict";var a,r=t("rVsN"),o=t.n(r),u=t("a3Yh"),i=t.n(u),s=t("Du/2"),c=t("vMJZ"),d=t("LXD1"),m=t("YaEn"),f={token:"",userName:"",avatar:"",roles:[]},l=(a={},i()(a,s.g,function(n,e){n.token=e}),i()(a,s.h,function(n,e){n.userName=e}),i()(a,s.c,function(n,e){n.avatar=e}),i()(a,s.e,function(n,e){n.roles=e}),a),p={Login:function(n,e){var t=n.commit,a=e.username.trim(),r=e.password;return new o.a(function(n,e){Object(c.c)(a,r).then(function(e){var a=e.data;Object(d.c)(a.token),t(s.g,a.token),n(e)}).catch(function(n){e(n)})})},GetInfo:function(n){var e=n.commit,t=n.state;return new o.a(function(n,a){t.token||e(s.g,Object(d.a)()),Object(c.b)(t.token).then(function(t){var a=t.data.user;e(s.e,a.roles),e(s.h,a.name),e(s.c,a.avatar),n(t)}).catch(function(n){a(n)})})},LogOut:function(n){var e=n.commit,t=n.state;return new o.a(function(n,a){Object(c.d)(t.token).then(function(){e(s.g,""),e(s.e,[]),Object(d.b)(),m.a.go(0),n()}).catch(function(n){a(n)})})},FedLogOut:function(n){var e=n.commit;return new o.a(function(n){e(s.g,""),Object(d.b)(),n()})}};e.a={state:f,actions:p,mutations:l}},cdnL:function(n,e,t){"use strict";t.d(e,"b",function(){return o}),t.d(e,"a",function(){return u});var a=t("cLQA"),r=t.n(a),o={admin:{roles:["admin"],name:"admin",avatar:r.a.Random.image("200X200","#409EFF","#fff","png","avatar")},tableEditer:{roles:["tableEditer"],name:"table",avatar:r.a.Random.image("200X200","#409EFF","#fff","png","avatar")},excelEditer:{roles:["excelEditer"],name:"excel",avatar:r.a.Random.image("200X200","#409EFF","#fff","png","avatar")},visitor:{roles:["visitor"],name:"visitor",avatar:r.a.Random.image("200X200","#409EFF","#fff","png","avatar")}},u={admin:"admin-"+r.a.Random.id(),table:"table-"+r.a.Random.id(),excel:"excel-"+r.a.Random.id(),visitor:"visitor-"+r.a.Random.id()}},dHzK:function(n,e){},fTED:function(n,e,t){"use strict";t.d(e,"a",function(){return o}),t.d(e,"b",function(){return i});var a=t("cLQA"),r=t.n(a);r.a.Random.extend({parts:function(n){var e=["筒身","筒尾","筒头","灯座"];return this.pick(e)},orderStatus:function(n){var e=["未处理","已排","已交氧化","完成"];return this.pick(e)},productStatus:function(n){var e=[0,1];return this.pick(e)}});for(var o=[],u=0;u<200;u++)o.push(r.a.mock({id:r.a.Random.guid(),orderNo:"PO"+r.a.Random.string("number",8),productName:r.a.Random.string("upper",2)+r.a.Random.parts()+"S"+r.a.Random.integer(1,8),orderAmount:100*r.a.Random.integer(1,30),stockAmount:r.a.Random.integer(1,100),spareParts:r.a.Random.integer(1,50),planAmount:100*r.a.Random.integer(1,30),orderDate:r.a.Random.date(),requiredDate:r.a.Random.date(),replyDate:r.a.Random.date(),purchaseRequirement:r.a.Random.cparagraph(0,20),materialCoding:r.a.Random.string("number",3)+"."+r.a.Random.string("number",3)+"."+r.a.Random.string("number",3)+"."+r.a.Random.string("number",3),materialModel:r.a.Random.cparagraph(4),orderStatus:r.a.Random.orderStatus(),remark:r.a.Random.cparagraph(0,20),exceptionReason:r.a.Random.cparagraph(0,20),orderType:"白件",price:r.a.Random.float(0,10,2,2)}));for(var i=[],s=0;s<200;s++)i.push(r.a.mock({id:r.a.Random.guid(),orderNo:"PO"+r.a.Random.string("number",8),productName:r.a.Random.string("upper",2)+r.a.Random.parts()+"S"+r.a.Random.integer(1,8),batch:r.a.Random.integer(0,5),reciverOrder:r.a.Random.date(),planProductTime:r.a.Random.date(),productStatus:r.a.Random.productStatus(),planProductFinish:r.a.Random.date(),productFinishStatus:r.a.Random.productStatus(),planOrderFinish:r.a.Random.date(),orderFinishStatus:r.a.Random.productStatus()}))},"kF1/":function(n,e,t){"use strict";var a=t("yEoQ"),r=t.n(a),o=t("E7la"),u=t.n(o),i=t("fTED"),s=t("cdnL"),c=new u.a(r.a,{delayResponse:0});e.a={start:function(){c.onGet("../../orderInfo/list.do").reply(200,{tableInfo:i.a}),c.onPost("../../orderInfo/deleteBatch.do").reply(function(n){return[200,{msg:n.data}]}),c.onPost("../../orderInfo/update.do").reply(function(n){return[200,{msg:n.data}]}),c.onPost("../../orderInfo/insert.do").reply(function(n){return[200,{msg:n.data}]}),c.onGet("../../orderSchedule/list.do").reply(200,{tableInfo:i.b}),c.onPost("../../orderSchedule/deleteBatch.do").reply(function(n){return[200,{msg:n.data}]}),c.onPost("../../orderSchedule/update.do").reply(function(n){return[200,{msg:n.data}]}),c.onPost("../../orderSchedule/insert.do").reply(function(n){return[200,{msg:n.data}]}),c.onPost("../../test/upload.do").reply(function(n){return[200,{uploadfileType:n.data.get("uploadfileType"),uploadfile:n.data.get("uploadfile"),msg:"上传成功"}]}),c.onPost("../../user/login").reply(function(n){var e=404,t="",a=n.data;return a=JSON.parse(a),"admin"===a.username||"table"===a.username||"excel"===a.username||"visitor"===a.username?(e=200,t="验证通过、、、"):(e=401,t="用户名或者密码错误、、"),[e,{msg:t,token:s.a[a.username],homeView:""}]}),c.onPost("../../user/logout").reply(200,{msg:"退出成功!"}),c.onPost("../../user/registe").reply(function(n){var e="",t=JSON.parse(n.data);return e="用户名："+t.username+",密码"+t.password,[200,{msg:e}]}),c.onGet("../../user/info").reply(function(n){var e={},t=n.params.token.split("-")[0];for(var a in s.b)t===s.b[a].name&&(e=s.b[a]);return e.name?[200,{user:e}]:[401,{user:{},msg:"获取个人信息失败！"}]}),c.onPost("../../user/info/update.do").reply(200,{msg:"修改个人信息成功"}),c.onGet().reply(200,{msg:"onGet、、、"}),c.onPost().reply(200,{msg:"onpost、、、"})}}},vMJZ:function(n,e,t){"use strict";function a(n,e){return c()({url:"../../user/login",method:"post",data:{username:n,password:e}})}function r(n){return c()({url:"../../user/info",method:"get",params:{token:n}})}function o(n,e){return c()({url:"../../user/info/update.do",method:"post",data:n,params:e})}function u(){return c()({url:"../../user/logout",method:"post"})}function i(n){return c()({url:"../../user/registe",method:"post",data:n})}e.c=a,e.b=r,e.a=o,e.d=u,e.e=i;var s=t("yEoQ"),c=t.n(s)},ve9D:function(n,e){}},["NHnr"]);
//# sourceMappingURL=app.3ac1039cee3bceb00229.js.map